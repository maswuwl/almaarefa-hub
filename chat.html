<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>💬 المحادثة الذكية - منصة المعرفة</title>
  <style>
    body { font-family: sans-serif; background: #f9f9f9; padding: 20px; }
    textarea { width: 100%; height: 120px; font-size: 16px; margin-top: 10px; }
    button { padding: 10px 20px; font-size: 16px; margin-top: 10px; }
    #response { margin-top: 20px; background: #fff; padding: 15px; border: 1px solid #ccc; white-space: pre-wrap; }
  </style>
</head>
<body>
  <h1>💬 المحادثة الذكية</h1>
  <p>اكتب أمرك أو سؤالك، وسأتولى التنفيذ الكامل:</p>

  <textarea id="userInput" placeholder="مثال: صمّم لي منصة تعليمية فيها تسجيل دخول..."></textarea>
  <button onclick="sendMessage()">إرسال</button>

  <div id="response"></div>

  <script>
    const sourceURL = "https://api.almaarefa.ai/source/chatinterface";

    function sendMessage() {
      const input = document.getElementById("userInput").value.trim();
      const response = document.getElementById("response");

      if (!input) {
        response.innerHTML = "❌ الرجاء كتابة أمر واضح.";
        return;
      }

      response.innerHTML = `✅ تم استقبال الأمر: ${input}\n🔗 تم ربط المصدر تلقائيًا: ${sourceURL}\n\n📦 جاري تنفيذ المشروع...\n`;

      // مثال توليد مشروع تعليمي
      if (input.includes("منصة تعليمية")) {
        response.innerHTML += `\n📄 <strong>index.html</strong>\n\n` +
        `<!DOCTYPE html>\n<html lang="ar" dir="rtl">\n<head>\n  <meta charset="UTF-8">\n  <title>منصة تعليمية</title>\n</head>\n<body>\n  <h1>📘 منصة تعليمية</h1>\n  <p>تسجيل دخول المعلم</p>\n  <input placeholder="اسم المستخدم">\n  <input placeholder="كلمة المرور" type="password">\n  <button>دخول</button>\n</body>\n</html>`;
      } else {
        response.innerHTML += `🧠 جاري تحليل الأمر... سيتم تنفيذ الرد المناسب قريبًا.`;
      }
    }
  </script>
</body>
</html>
